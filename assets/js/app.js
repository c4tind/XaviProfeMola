angular.module("appProductes",["ngResource"]),angular.module("appProductes").controller("ProductesController",["$scope","ProductesFactory",function(o,e){o.productes=[],e.query(function(e){o.productes=e}),o.afegirProducte=function(){o.codi&&o.nom&&o.seccio&&o.preu&&e.save({codi:o.codi,nom:o.nom,seccio:o.seccio,preu:o.preu},function(e){o.productes.unshift(e),o.codi=null,o.nom=null,o.seccio=null,o.preu=null})},o.esborrarProducte=function(c){console.log(c.codi),e["delete"]({id:c.codi},function(){console.log(o.productes.indexOf(c)),o.productes.splice(o.productes.indexOf(c),1)}),console.log(c)},o.editarProducte=function(e){o.editCodi=e.codi,o.editNom=e.nom,o.editSeccio=e.seccio,o.editPreu=e.preu,o.producteAEditar=e},o.updateProducte=function(){o.editCodi&&o.editNom&&o.editSeccio&&o.editPreu&&e.update({codi:o.editCodi,nom:o.editNom,seccio:o.editSeccio,preu:o.editPreu,_id:o.producteAEditar._id},function(){o.producteAEditar.codi=o.editCodi,o.producteAEditar.nom=o.editNom,o.producteAEditar.seccio=o.editSeccio,o.producteAEditar.preu=o.editPreu,o.editCodi=null,o.editNom=null,o.editSeccio=null,o.editPreu=null})},o.filtrarSeccio=function(c){console.log(c.seccio),e.get({seccio:c.seccio},function(){console.log(o.productes.indexOf(c)),o.productes.splice(o.productes.indexOf(c),1)}),console.log(c)}}]),angular.module("appProductes").factory("ProductesFactory",["$resource",function(o){return o("/api/productes/:id",null,{update:{method:"PUT"}})}]),angular.module("appProductes").controller("SeccioController",["$scope","SeccioFactory",function(o,e){o.productes=[],e.query(function(e){o.productes=e})}]),angular.module("appProductes").factory("SeccioFactory",["$resource",function(o){return o("/api/productes/seccio/Carnisseria",null,{update:{method:"PUT"}})}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsInByb2R1Y3Rlcy5jdHJsLmpzIiwicHJvZHVjdGVzLnN2Yy5qcyIsInByb2R1Y3Rlc3NlY2Npby5jdHJsLmpzIiwicHJvZHVjdGVzc2VjY2lvLnN2Yy5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29udHJvbGxlciIsIiRzY29wZSIsIlByb2R1Y3Rlc0ZhY3RvcnkiLCJwcm9kdWN0ZXMiLCJxdWVyeSIsImFmZWdpclByb2R1Y3RlIiwiY29kaSIsIm5vbSIsInNlY2NpbyIsInByZXUiLCJzYXZlIiwicHJvZHVjdGUiLCJ1bnNoaWZ0IiwiZXNib3JyYXJQcm9kdWN0ZSIsImNvbnNvbGUiLCJsb2ciLCJpZCIsImluZGV4T2YiLCJzcGxpY2UiLCJlZGl0YXJQcm9kdWN0ZSIsImVkaXRDb2RpIiwiZWRpdE5vbSIsImVkaXRTZWNjaW8iLCJlZGl0UHJldSIsInByb2R1Y3RlQUVkaXRhciIsInVwZGF0ZVByb2R1Y3RlIiwidXBkYXRlIiwiX2lkIiwiZmlsdHJhclNlY2NpbyIsImdldCIsImZhY3RvcnkiLCIkcmVzb3VyY2UiLCJtZXRob2QiLCJTZWNjaW9GYWN0b3J5Il0sIm1hcHBpbmdzIjoiQUFBQUEsUUFBQUMsT0FBQSxnQkFBQSxlQ0FBRCxRQUFBQyxPQUFBLGdCQUFBQyxXQUFBLHVCQUFBLFNBQUEsbUJBQUEsU0FBQUMsRUFBQUMsR0FDQUQsRUFBQUUsYUFFQUQsRUFBQUUsTUFBQSxTQUFBRCxHQUNBRixFQUFBRSxVQUFBQSxJQU1BRixFQUFBSSxlQUFBLFdBQ0FKLEVBQUFLLE1BQUFMLEVBQUFNLEtBQUFOLEVBQUFPLFFBQUFQLEVBQUFRLE1BQ0FQLEVBQUFRLE1BQ0FKLEtBQUFMLEVBQUFLLEtBQ0FDLElBQUFOLEVBQUFNLElBQ0FDLE9BQUFQLEVBQUFPLE9BQ0FDLEtBQUFSLEVBQUFRLE1BQ0EsU0FBQUUsR0FDQVYsRUFBQUUsVUFBQVMsUUFBQUQsR0FDQVYsRUFBQUssS0FBQSxLQUNBTCxFQUFBTSxJQUFBLEtBQ0FOLEVBQUFPLE9BQUEsS0FDQVAsRUFBQVEsS0FBQSxRQUlBUixFQUFBWSxpQkFBQSxTQUFBRixHQUNBRyxRQUFBQyxJQUFBSixFQUFBTCxNQUNBSixFQUFBQSxXQUFBYyxHQUFBTCxFQUFBTCxNQUFBLFdBQ0FRLFFBQUFDLElBQUFkLEVBQUFFLFVBQUFjLFFBQUFOLElBQ0FWLEVBQUFFLFVBQUFlLE9BQUFqQixFQUFBRSxVQUFBYyxRQUFBTixHQUFBLEtBRUFHLFFBQUFDLElBQUFKLElBR0FWLEVBQUFrQixlQUFBLFNBQUFSLEdBQ0FWLEVBQUFtQixTQUFBVCxFQUFBTCxLQUNBTCxFQUFBb0IsUUFBQVYsRUFBQUosSUFDQU4sRUFBQXFCLFdBQUFYLEVBQUFILE9BQ0FQLEVBQUFzQixTQUFBWixFQUFBRixLQUNBUixFQUFBdUIsZ0JBQUFiLEdBRUFWLEVBQUF3QixlQUFBLFdBQ0F4QixFQUFBbUIsVUFBQW5CLEVBQUFvQixTQUFBcEIsRUFBQXFCLFlBQUFyQixFQUFBc0IsVUFDQXJCLEVBQUF3QixRQUFBcEIsS0FBQUwsRUFBQW1CLFNBQUFiLElBQUFOLEVBQUFvQixRQUFBYixPQUFBUCxFQUFBcUIsV0FBQWIsS0FBQVIsRUFBQXNCLFNBQUFJLElBQUExQixFQUFBdUIsZ0JBQUFHLEtBQUEsV0FDQTFCLEVBQUF1QixnQkFBQWxCLEtBQUFMLEVBQUFtQixTQUNBbkIsRUFBQXVCLGdCQUFBakIsSUFBQU4sRUFBQW9CLFFBQ0FwQixFQUFBdUIsZ0JBQUFoQixPQUFBUCxFQUFBcUIsV0FDQXJCLEVBQUF1QixnQkFBQWYsS0FBQVIsRUFBQXNCLFNBQ0F0QixFQUFBbUIsU0FBQSxLQUNBbkIsRUFBQW9CLFFBQUEsS0FDQXBCLEVBQUFxQixXQUFBLEtBQ0FyQixFQUFBc0IsU0FBQSxRQU1BdEIsRUFBQTJCLGNBQUEsU0FBQWpCLEdBQ0FHLFFBQUFDLElBQUFKLEVBQUFILFFBQ0FOLEVBQUEyQixLQUFBckIsT0FBQUcsRUFBQUgsUUFBQSxXQUNBTSxRQUFBQyxJQUFBZCxFQUFBRSxVQUFBYyxRQUFBTixJQUNBVixFQUFBRSxVQUFBZSxPQUFBakIsRUFBQUUsVUFBQWMsUUFBQU4sR0FBQSxLQUVBRyxRQUFBQyxJQUFBSixPQ2hFQWIsUUFBQUMsT0FBQSxnQkFBQStCLFFBQUEsb0JBQUEsWUFBQSxTQUFBQyxHQUNBLE1BQUFBLEdBQUEscUJBQUEsTUFFQUwsUUFBQU0sT0FBQSxZQ0hBbEMsUUFBQUMsT0FBQSxnQkFBQUMsV0FBQSxvQkFBQSxTQUFBLGdCQUFBLFNBQUFDLEVBQUFnQyxHQUNBaEMsRUFBQUUsYUFFQThCLEVBQUE3QixNQUFBLFNBQUFELEdBQ0FGLEVBQUFFLFVBQUFBLE9DSkFMLFFBQUFDLE9BQUEsZ0JBQUErQixRQUFBLGlCQUFBLFlBQUEsU0FBQUMsR0FDQSxNQUFBQSxHQUFBLG9DQUFBLE1BRUFMLFFBQUFNLE9BQUEiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiYW5ndWxhci5tb2R1bGUoXCJhcHBQcm9kdWN0ZXNcIiwgW1wibmdSZXNvdXJjZVwiXSk7IiwiYW5ndWxhci5tb2R1bGUoJ2FwcFByb2R1Y3RlcycpLmNvbnRyb2xsZXIoXCJQcm9kdWN0ZXNDb250cm9sbGVyXCIsIGZ1bmN0aW9uKCRzY29wZSxQcm9kdWN0ZXNGYWN0b3J5KSB7XG4gICAgJHNjb3BlLnByb2R1Y3Rlcz0gW107XG4gICAgXG4gICAgUHJvZHVjdGVzRmFjdG9yeS5xdWVyeShmdW5jdGlvbihwcm9kdWN0ZXMpIHtcbiAgICAgICAgICAgICRzY29wZS5wcm9kdWN0ZXMgPSBwcm9kdWN0ZXM7XG4gICAgICAgIH0pO1xuICAgICAgICBcbi8vIGh0dHA6Ly9mZGlldHouZ2l0aHViLmlvL3JlY2lwZXMtd2l0aC1hbmd1bGFyLWpzL2NvbnN1bWluZy1leHRlcm5hbC1zZXJ2aWNlcy9jb25zdW1pbmctcmVzdGZ1bC1hcGlzLmh0bWxcbiAgICAgICAgXG4gICAgICAgIFxuICAgICRzY29wZS5hZmVnaXJQcm9kdWN0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoJHNjb3BlLmNvZGkgJiYgJHNjb3BlLm5vbSAmJiAkc2NvcGUuc2VjY2lvICYmICRzY29wZS5wcmV1KSB7XG4gICAgICAgICAgICBQcm9kdWN0ZXNGYWN0b3J5LnNhdmUoe1xuICAgICAgICAgICAgICAgIGNvZGkgOiAkc2NvcGUuY29kaSxcbiAgICAgICAgICAgICAgICBub206ICRzY29wZS5ub20sXG4gICAgICAgICAgICAgICAgc2VjY2lvOiAkc2NvcGUuc2VjY2lvLFxuICAgICAgICAgICAgICAgIHByZXU6ICRzY29wZS5wcmV1XG4gICAgICAgICAgICB9LCBmdW5jdGlvbihwcm9kdWN0ZSkge1xuICAgICAgICAgICAgICAgICRzY29wZS5wcm9kdWN0ZXMudW5zaGlmdChwcm9kdWN0ZSk7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmNvZGkgPSBudWxsO1xuICAgICAgICAgICAgICAgICRzY29wZS5ub20gPSBudWxsO1xuICAgICAgICAgICAgICAgICRzY29wZS5zZWNjaW8gPSBudWxsO1xuICAgICAgICAgICAgICAgICRzY29wZS5wcmV1ID0gbnVsbDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAkc2NvcGUuZXNib3JyYXJQcm9kdWN0ZT0gZnVuY3Rpb24ocHJvZHVjdGUpIHtcbiAgICAgICAgY29uc29sZS5sb2cocHJvZHVjdGUuY29kaSk7XG4gICAgICAgIFByb2R1Y3Rlc0ZhY3RvcnkuZGVsZXRlKHtpZDpwcm9kdWN0ZS5jb2RpfSxmdW5jdGlvbihwKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCRzY29wZS5wcm9kdWN0ZXMuaW5kZXhPZihwcm9kdWN0ZSkpO1xuICAgICAgICAgICAgJHNjb3BlLnByb2R1Y3Rlcy5zcGxpY2UoJHNjb3BlLnByb2R1Y3Rlcy5pbmRleE9mKHByb2R1Y3RlKSwxKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnNvbGUubG9nKHByb2R1Y3RlKTtcbiAgICB9O1xuICAgIFxuICAgICRzY29wZS5lZGl0YXJQcm9kdWN0ZSA9IGZ1bmN0aW9uKHByb2R1Y3RlKSB7XG4gICAgICAgICRzY29wZS5lZGl0Q29kaSA9IHByb2R1Y3RlLmNvZGk7XG4gICAgICAgICRzY29wZS5lZGl0Tm9tID0gcHJvZHVjdGUubm9tO1xuICAgICAgICAkc2NvcGUuZWRpdFNlY2NpbyA9IHByb2R1Y3RlLnNlY2NpbztcbiAgICAgICAgJHNjb3BlLmVkaXRQcmV1ID0gcHJvZHVjdGUucHJldTtcbiAgICAgICAgJHNjb3BlLnByb2R1Y3RlQUVkaXRhciA9IHByb2R1Y3RlO1xuICAgIH07XG4gICAgJHNjb3BlLnVwZGF0ZVByb2R1Y3RlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgkc2NvcGUuZWRpdENvZGkgJiYgJHNjb3BlLmVkaXROb20gJiYgJHNjb3BlLmVkaXRTZWNjaW8gJiYgJHNjb3BlLmVkaXRQcmV1KSB7XG4gICAgICAgICAgICBQcm9kdWN0ZXNGYWN0b3J5LnVwZGF0ZSh7IGNvZGk6ICRzY29wZS5lZGl0Q29kaSwgbm9tOiAkc2NvcGUuZWRpdE5vbSwgc2VjY2lvOiAkc2NvcGUuZWRpdFNlY2NpbywgcHJldTogJHNjb3BlLmVkaXRQcmV1LCBfaWQ6ICRzY29wZS5wcm9kdWN0ZUFFZGl0YXIuX2lkfSxmdW5jdGlvbihwcm9kdWN0ZSl7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5wcm9kdWN0ZUFFZGl0YXIuY29kaSA9JHNjb3BlLmVkaXRDb2RpO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucHJvZHVjdGVBRWRpdGFyLm5vbSA9ICRzY29wZS5lZGl0Tm9tO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucHJvZHVjdGVBRWRpdGFyLnNlY2NpbyA9JHNjb3BlLmVkaXRTZWNjaW87XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5wcm9kdWN0ZUFFZGl0YXIucHJldSA9ICRzY29wZS5lZGl0UHJldTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmVkaXRDb2RpID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmVkaXROb20gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZWRpdFNlY2NpbyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5lZGl0UHJldSA9IG51bGw7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgJHNjb3BlLmZpbHRyYXJTZWNjaW8gPSBmdW5jdGlvbihwcm9kdWN0ZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhwcm9kdWN0ZS5zZWNjaW8pO1xuICAgICAgICBQcm9kdWN0ZXNGYWN0b3J5LmdldCh7c2VjY2lvOnByb2R1Y3RlLnNlY2Npb30sZnVuY3Rpb24ocCl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUucHJvZHVjdGVzLmluZGV4T2YocHJvZHVjdGUpKTtcbiAgICAgICAgICAgICRzY29wZS5wcm9kdWN0ZXMuc3BsaWNlKCRzY29wZS5wcm9kdWN0ZXMuaW5kZXhPZihwcm9kdWN0ZSksMSk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLmxvZyhwcm9kdWN0ZSk7XG4gICAgfTtcbn0pOyIsImFuZ3VsYXIubW9kdWxlKCdhcHBQcm9kdWN0ZXMnKS5mYWN0b3J5KFwiUHJvZHVjdGVzRmFjdG9yeVwiLCBmdW5jdGlvbigkcmVzb3VyY2UpIHtcbiAgICByZXR1cm4gJHJlc291cmNlKFwiL2FwaS9wcm9kdWN0ZXMvOmlkXCIsIG51bGwsXG4gICAge1xuICAgICAgICAndXBkYXRlJzogeyBtZXRob2Q6J1BVVCcgfVxuICAgIH0pO1xufSk7IiwiYW5ndWxhci5tb2R1bGUoJ2FwcFByb2R1Y3RlcycpLmNvbnRyb2xsZXIoXCJTZWNjaW9Db250cm9sbGVyXCIsIGZ1bmN0aW9uKCRzY29wZSxTZWNjaW9GYWN0b3J5KSB7XG4gICAgJHNjb3BlLnByb2R1Y3Rlcz0gW107XG4gICAgXG4gICAgU2VjY2lvRmFjdG9yeS5xdWVyeShmdW5jdGlvbihwcm9kdWN0ZXMpIHtcbiAgICAgICAgICAgICRzY29wZS5wcm9kdWN0ZXMgPSBwcm9kdWN0ZXM7XG4gICAgICAgIH0pO1xufSk7IiwiYW5ndWxhci5tb2R1bGUoJ2FwcFByb2R1Y3RlcycpLmZhY3RvcnkoXCJTZWNjaW9GYWN0b3J5XCIsIGZ1bmN0aW9uKCRyZXNvdXJjZSkge1xuICAgIHJldHVybiAkcmVzb3VyY2UoXCIvYXBpL3Byb2R1Y3Rlcy9zZWNjaW8vQ2Fybmlzc2VyaWFcIiwgbnVsbCxcbiAgICB7XG4gICAgICAgICd1cGRhdGUnOiB7IG1ldGhvZDonUFVUJyB9XG4gICAgfSk7XG59KTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=