angular.module("appLlibres",["ngResource"]),angular.module("appLlibres").controller("LlibresController",["$scope","LlibresFactory",function(i,l){i.llibres=[],l.query(function(l){i.llibres=l}),i.afegirLlibre=function(){i.titol&&i.isbn&&l.save({isbn:i.isbn,titol:i.titol,autors:["Xaviii"]},function(l){i.llibres.unshift(l),i.isbn=null,i.titol=null})},i.esborrarLlibre=function(e){console.log(e.isbn),l["delete"]({id:e.isbn},function(){console.log(i.llibres.indexOf(e)),i.llibres.splice(i.llibres.indexOf(e),1)}),console.log(e)},i.editarLlibre=function(l){i.editTitol=l.titol,i.editIsbn=l.isbn,i.llibreAEditar=l},i.updateLlibre=function(){i.editTitol&&i.editIsbn&&l.update({titol:i.editTitol,isbn:i.editIsbn,_id:i.llibreAEditar._id},function(){i.llibreAEditar.isbn=i.editIsbn,i.llibreAEditar.titol=i.editTitol,i.editTitol=null,i.editIsbn=null})}}]),angular.module("appLlibres").factory("LlibresFactory",["$resource",function(i){return i("/api/llibres/:id",null,{update:{method:"PUT"}})}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImxsaWJyZXMuY3RybC5qcyIsImxsaWJyZXMuc3ZjLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJjb250cm9sbGVyIiwiJHNjb3BlIiwiTGxpYnJlc0ZhY3RvcnkiLCJsbGlicmVzIiwicXVlcnkiLCJhZmVnaXJMbGlicmUiLCJ0aXRvbCIsImlzYm4iLCJzYXZlIiwiYXV0b3JzIiwibGxpYnJlIiwidW5zaGlmdCIsImVzYm9ycmFyTGxpYnJlIiwiY29uc29sZSIsImxvZyIsImlkIiwiaW5kZXhPZiIsInNwbGljZSIsImVkaXRhckxsaWJyZSIsImVkaXRUaXRvbCIsImVkaXRJc2JuIiwibGxpYnJlQUVkaXRhciIsInVwZGF0ZUxsaWJyZSIsInVwZGF0ZSIsIl9pZCIsImZhY3RvcnkiLCIkcmVzb3VyY2UiLCJtZXRob2QiXSwibWFwcGluZ3MiOiJBQUFBQSxRQUFBQyxPQUFBLGNBQUEsZUNBQUQsUUFBQUMsT0FBQSxjQUFBQyxXQUFBLHFCQUFBLFNBQUEsaUJBQUEsU0FBQUMsRUFBQUMsR0FDQUQsRUFBQUUsV0FFQUQsRUFBQUUsTUFBQSxTQUFBRCxHQUNBRixFQUFBRSxRQUFBQSxJQU1BRixFQUFBSSxhQUFBLFdBQ0FKLEVBQUFLLE9BQUFMLEVBQUFNLE1BQ0FMLEVBQUFNLE1BQ0FELEtBQUFOLEVBQUFNLEtBQ0FELE1BQUFMLEVBQUFLLE1BQ0FHLFFBQUEsV0FDQSxTQUFBQyxHQUNBVCxFQUFBRSxRQUFBUSxRQUFBRCxHQUNBVCxFQUFBTSxLQUFBLEtBQ0FOLEVBQUFLLE1BQUEsUUFJQUwsRUFBQVcsZUFBQSxTQUFBRixHQUNBRyxRQUFBQyxJQUFBSixFQUFBSCxNQUNBTCxFQUFBQSxXQUFBYSxHQUFBTCxFQUFBSCxNQUFBLFdBQ0FNLFFBQUFDLElBQUFiLEVBQUFFLFFBQUFhLFFBQUFOLElBQ0FULEVBQUFFLFFBQUFjLE9BQUFoQixFQUFBRSxRQUFBYSxRQUFBTixHQUFBLEtBRUFHLFFBQUFDLElBQUFKLElBR0FULEVBQUFpQixhQUFBLFNBQUFSLEdBQ0FULEVBQUFrQixVQUFBVCxFQUFBSixNQUNBTCxFQUFBbUIsU0FBQVYsRUFBQUgsS0FDQU4sRUFBQW9CLGNBQUFYLEdBRUFULEVBQUFxQixhQUFBLFdBQ0FyQixFQUFBa0IsV0FBQWxCLEVBQUFtQixVQUNBbEIsRUFBQXFCLFFBQUFqQixNQUFBTCxFQUFBa0IsVUFBQVosS0FBQU4sRUFBQW1CLFNBQUFJLElBQUF2QixFQUFBb0IsY0FBQUcsS0FBQSxXQUNBdkIsRUFBQW9CLGNBQUFkLEtBQUFOLEVBQUFtQixTQUNBbkIsRUFBQW9CLGNBQUFmLE1BQUFMLEVBQUFrQixVQUNBbEIsRUFBQWtCLFVBQUEsS0FDQWxCLEVBQUFtQixTQUFBLFdDM0NBdEIsUUFBQUMsT0FBQSxjQUFBMEIsUUFBQSxrQkFBQSxZQUFBLFNBQUFDLEdBQ0EsTUFBQUEsR0FBQSxtQkFBQSxNQUVBSCxRQUFBSSxPQUFBIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXIubW9kdWxlKFwiYXBwTGxpYnJlc1wiLCBbXCJuZ1Jlc291cmNlXCJdKTsiLCJhbmd1bGFyLm1vZHVsZSgnYXBwTGxpYnJlcycpLmNvbnRyb2xsZXIoXCJMbGlicmVzQ29udHJvbGxlclwiLCBmdW5jdGlvbigkc2NvcGUsTGxpYnJlc0ZhY3RvcnkpIHtcbiAgICAkc2NvcGUubGxpYnJlcz0gW107XG4gICAgXG4gICAgTGxpYnJlc0ZhY3RvcnkucXVlcnkoZnVuY3Rpb24obGxpYnJlcykge1xuICAgICAgICAgICAgJHNjb3BlLmxsaWJyZXMgPSBsbGlicmVzO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4vLyBodHRwOi8vZmRpZXR6LmdpdGh1Yi5pby9yZWNpcGVzLXdpdGgtYW5ndWxhci1qcy9jb25zdW1pbmctZXh0ZXJuYWwtc2VydmljZXMvY29uc3VtaW5nLXJlc3RmdWwtYXBpcy5odG1sXG4gICAgICAgIFxuICAgICAgICBcbiAgICAkc2NvcGUuYWZlZ2lyTGxpYnJlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgkc2NvcGUudGl0b2wgJiYgJHNjb3BlLmlzYm4pIHtcbiAgICAgICAgICAgIExsaWJyZXNGYWN0b3J5LnNhdmUoe1xuICAgICAgICAgICAgICAgIGlzYm4gOiAkc2NvcGUuaXNibixcbiAgICAgICAgICAgICAgICB0aXRvbDogJHNjb3BlLnRpdG9sLFxuICAgICAgICAgICAgICAgIGF1dG9yczogW1wiWGF2aWlpXCJdXG4gICAgICAgICAgICB9LCBmdW5jdGlvbihsbGlicmUpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUubGxpYnJlcy51bnNoaWZ0KGxsaWJyZSk7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmlzYm4gPSBudWxsO1xuICAgICAgICAgICAgICAgICRzY29wZS50aXRvbCA9IG51bGw7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgJHNjb3BlLmVzYm9ycmFyTGxpYnJlPSBmdW5jdGlvbihsbGlicmUpIHtcbiAgICAgICAgY29uc29sZS5sb2cobGxpYnJlLmlzYm4pO1xuICAgICAgICBMbGlicmVzRmFjdG9yeS5kZWxldGUoe2lkOmxsaWJyZS5pc2JufSxmdW5jdGlvbihsKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCRzY29wZS5sbGlicmVzLmluZGV4T2YobGxpYnJlKSk7XG4gICAgICAgICAgICAkc2NvcGUubGxpYnJlcy5zcGxpY2UoJHNjb3BlLmxsaWJyZXMuaW5kZXhPZihsbGlicmUpLDEpO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc29sZS5sb2cobGxpYnJlKTtcbiAgICB9O1xuICAgIFxuICAgICRzY29wZS5lZGl0YXJMbGlicmUgPSBmdW5jdGlvbihsbGlicmUpIHtcbiAgICAgICAgJHNjb3BlLmVkaXRUaXRvbCA9IGxsaWJyZS50aXRvbDtcbiAgICAgICAgJHNjb3BlLmVkaXRJc2JuID0gbGxpYnJlLmlzYm47XG4gICAgICAgICRzY29wZS5sbGlicmVBRWRpdGFyID0gbGxpYnJlO1xuICAgIH07XG4gICAgJHNjb3BlLnVwZGF0ZUxsaWJyZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoJHNjb3BlLmVkaXRUaXRvbCAmJiAkc2NvcGUuZWRpdElzYm4pIHtcbiAgICAgICAgICAgIExsaWJyZXNGYWN0b3J5LnVwZGF0ZSh7IHRpdG9sOiAkc2NvcGUuZWRpdFRpdG9sLCBpc2JuOiAkc2NvcGUuZWRpdElzYm4sIF9pZDogJHNjb3BlLmxsaWJyZUFFZGl0YXIuX2lkfSxmdW5jdGlvbihsbGlicmUpe1xuICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmxsaWJyZUFFZGl0YXIuaXNibiA9JHNjb3BlLmVkaXRJc2JuO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubGxpYnJlQUVkaXRhci50aXRvbCA9ICRzY29wZS5lZGl0VGl0b2w7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5lZGl0VGl0b2wgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZWRpdElzYm4gPSBudWxsO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICB9O1xufSk7IiwiYW5ndWxhci5tb2R1bGUoJ2FwcExsaWJyZXMnKS5mYWN0b3J5KFwiTGxpYnJlc0ZhY3RvcnlcIiwgZnVuY3Rpb24oJHJlc291cmNlKSB7XG4gICAgcmV0dXJuICRyZXNvdXJjZShcIi9hcGkvbGxpYnJlcy86aWRcIiwgbnVsbCxcbiAgICB7XG4gICAgICAgICd1cGRhdGUnOiB7IG1ldGhvZDonUFVUJyB9XG4gICAgfSk7XG59KTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=